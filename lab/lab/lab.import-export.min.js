!function(){var n,e,t;!function(r){function i(n,e){return w.call(n,e)}function o(n,e){var t,r,i,o,u,a,c,l,s,f,p=e&&e.split("/"),d=y.map,m=d&&d["*"]||{};if(n&&"."===n.charAt(0))if(e){for(p=p.slice(0,p.length-1),n=p.concat(n.split("/")),l=0;l<n.length;l+=1)if(f=n[l],"."===f)n.splice(l,1),l-=1;else if(".."===f){if(1===l&&(".."===n[2]||".."===n[0]))break;l>0&&(n.splice(l-1,2),l-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((p||m)&&d){for(t=n.split("/"),l=t.length;l>0;l-=1){if(r=t.slice(0,l).join("/"),p)for(s=p.length;s>0;s-=1)if(i=d[p.slice(0,s).join("/")],i&&(i=i[r])){o=i,u=l;break}if(o)break;!a&&m&&m[r]&&(a=m[r],c=l)}!o&&a&&(o=a,u=c),o&&(t.splice(0,u,o),n=t.join("/"))}return n}function u(n,e){return function(){return d.apply(r,x.call(arguments,0).concat([n,e]))}}function a(n){return function(e){return o(e,n)}}function c(n){return function(e){g[n]=e}}function l(n){if(i(v,n)){var e=v[n];delete v[n],b[n]=!0,p.apply(r,e)}if(!i(g,n)&&!i(b,n))throw new Error("No "+n);return g[n]}function s(n){var e,t=n?n.indexOf("!"):-1;return t>-1&&(e=n.substring(0,t),n=n.substring(t+1,n.length)),[e,n]}function f(n){return function(){return y&&y.config&&y.config[n]||{}}}var p,d,m,h,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice;m=function(n,e){var t,r=s(n),i=r[0];return n=r[1],i&&(i=o(i,e),t=l(i)),i?n=t&&t.normalize?t.normalize(n,a(e)):o(n,e):(n=o(n,e),r=s(n),i=r[0],n=r[1],i&&(t=l(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:t}},h={require:function(n){return u(n)},exports:function(n){var e=g[n];return"undefined"!=typeof e?e:g[n]={}},module:function(n){return{id:n,uri:"",exports:g[n],config:f(n)}}},p=function(n,e,t,o){var a,s,f,p,d,y,w=[];if(o=o||n,"function"==typeof t){for(e=!e.length&&t.length?["require","exports","module"]:e,d=0;d<e.length;d+=1)if(p=m(e[d],o),s=p.f,"require"===s)w[d]=h.require(n);else if("exports"===s)w[d]=h.exports(n),y=!0;else if("module"===s)a=w[d]=h.module(n);else if(i(g,s)||i(v,s)||i(b,s))w[d]=l(s);else{if(!p.p)throw new Error(n+" missing "+s);p.p.load(p.n,u(o,!0),c(s),{}),w[d]=g[s]}f=t.apply(g[n],w),n&&(a&&a.exports!==r&&a.exports!==g[n]?g[n]=a.exports:f===r&&y||(g[n]=f))}else n&&(g[n]=t)},n=e=d=function(n,e,t,i,o){return"string"==typeof n?h[n]?h[n](e):l(m(n,e).f):(n.splice||(y=n,e.splice?(n=e,e=t,t=null):n=r),e=e||function(){},"function"==typeof t&&(t=i,i=o),i?p(r,n,e,t):setTimeout(function(){p(r,n,e,t)},4),d)},d.config=function(n){return y=n,y.deps&&d(y.deps,y.callback),d},t=function(n,e,t){e.splice||(t=e,e=[]),i(g,n)||i(v,n)||(v[n]=[n,e,t])},t.amd={jQuery:!0}}(),t("../../vendor/almond/almond",function(){}),t("lab.config",[],function(){return{sharing:!0,logging:!1,tracing:!1,homeForSharing:"",homeEmbeddablePath:"/embeddable.html",rootUrl:"lab",modelsRootUrl:"",codap:!1,dataGamesProxyPrefix:"",utmCampaign:null,versionedHome:null}}),!function(n){"object"==typeof exports?module.exports=n():"function"==typeof t&&t.amd?t("iframe-phone",n):"undefined"!=typeof window?window.iframePhone=n():"undefined"!=typeof global?global.iframePhone=n():"undefined"!=typeof self&&(self.iframePhone=n())}(function(){return function n(t,r,i){function o(a,c){if(!r[a]){if(!t[a]){var l="function"==typeof e&&e;if(!c&&l)return l(a,!0);if(u)return u(a,!0);throw new Error("Cannot find module '"+a+"'")}var s=r[a]={exports:{}};t[a][0].call(s.exports,function(n){var e=t[a][1][n];return o(e?e:n)},s,s.exports,n,t,r,i)}return r[a].exports}for(var u="function"==typeof e&&e,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(n,e,t){function r(){function n(n,e){i.supported()?window.parent.postMessage(n,e):window.parent.postMessage(JSON.stringify(n),e)}function e(e,t){var r;r=1===arguments.length&&"object"==typeof e&&"string"==typeof e.type?e:{type:e,content:t},y?n(r,m):b.push(r)}function t(){n({type:"hello",origin:document.location.href.match(/(.*?\/\/.*?)\//)[1]},"*")}function r(n,e){g[n]=e}function a(){g={}}function c(){return Object.keys(g)}function l(n){if(n.source===window.parent){var t=n.data;if("string"==typeof t&&(t=JSON.parse(t)),!y&&"hello"===t.type)for(m=t.origin,y=!0,d();b.length>0;)e(b.shift());n.origin===m&&g[t.type]&&g[t.type](t.content)}}function s(){y=!1,d(),window.removeEventListener("message",messsageListener)}function f(){v||(v=!0,window.parent!==window&&(t(),p(),window.addEventListener("message",l,!1)))}function p(){h&&d(),h=window.setInterval(t,o),window.setTimeout(d,u)}function d(){window.clearInterval(h),h=null}var m,h,g={},v=!1,y=!1,b=[];return{initialize:f,getListenerNames:c,addListener:r,removeAllListeners:a,disconnect:s,post:e}}var i=n("./structured-clone"),o=200,u=1e3,a=null;e.exports=function(){return a||(a=new r),a}},{"./structured-clone":4}],2:[function(n,e,t){"use strict";function r(){for(var n="abcdefghijklmnopqrstuvwxyz0123456789",e=n.length,t=[],r=0;10>r;r++)t.push(n[Math.floor(Math.random()*e)]);return t.join("")}var i=n("./parent-endpoint"),o=n("./iframe-endpoint");e.exports=function(n,e,t,u){function a(n,t){var i=r();s[i]={callback:t,timeout:window.setTimeout(function(){t&&t(void 0,new Error("IframePhone timed out waiting for reply"))},2e3)},l.post(e,{messageType:"call",uuid:i,value:n})}function c(){l.disconnect()}var l,s=Object.create({});return t===window.parent?(l=o(),l.initialize()):l=new i(t,u),l.addListener(e,function(t){var r;"call"===t.messageType?n(t.value,function(n){l.post(e,{messageType:"returnValue",uuid:t.uuid,value:n})}):"returnValue"===t.messageType&&(r=s[t.uuid],r&&(window.clearTimeout(r.timeout),r.callback&&r.callback.call(void 0,t.value),s[t.uuid]=null))}),{call:a,disconnect:c}}},{"./iframe-endpoint":1,"./parent-endpoint":3}],3:[function(n,e,t){var r=n("./structured-clone");e.exports=function(n,e,t){function i(n){return n.src.match(/(.*?\/\/.*?)\//)[1]}function o(n,t){var i;if(i=1===arguments.length&&"object"==typeof n&&"string"==typeof n.type?n:{type:n,content:t},m){var o=c();i.origin=p,r.supported()?o.postMessage(i,e):o.postMessage(JSON.stringify(i),e)}else d.push(i)}function u(n,e){h[n]=e}function a(n){h[n]=null}function c(){if(f){var e=n.contentWindow;if(!e)throw"IFrame element needs to be added to DOM before communication can be started (.contentWindow is not available)";return e}return n}function l(n){var t;n.source===c()&&n.origin===e&&(t=n.data,"string"==typeof t&&(t=JSON.parse(t)),h[t.type]?h[t.type](t.content):console.log("cant handle type: "+t.type))}function s(){m=!1,window.removeEventListener("message",l)}var f,p=window.location.href.match(/(.*?\/\/.*?)\//)[1],d=[],m=!1,h={};try{f=n.constructor===HTMLIFrameElement}catch(g){f=!1}return f&&(e&&e.constructor!==Function||(t=e,e=i(n))),u("hello",function(){for(m=!0,o("hello"),t&&"function"==typeof t&&t();d.length>0;)o(d.shift())}),window.addEventListener("message",l,!1),{post:o,addListener:u,removeListener:a,disconnect:s}}},{"./structured-clone":4}],4:[function(n,e,t){var r=!1;!function(){var n=0;if(window.postMessage)try{window.onmessage=function(e){var t=Object.prototype.toString.call(e.data);n=-1!=t.indexOf("Null")||-1!=t.indexOf("DOMWindow")?1:0,r={structuredClones:n}},window.postMessage(document.createElement("a"),"*")}catch(e){n=e.DATA_CLONE_ERR||"Cannot post cyclic structures."==e.message?1:0,r={structuredClones:n}}}(),t.supported=function(){return r&&r.structuredClones>0}},{}],5:[function(n,e,t){e.exports={ParentEndpoint:n("./lib/parent-endpoint"),getIFrameEndpoint:n("./lib/iframe-endpoint"),structuredClone:n("./lib/structured-clone"),IframePhoneRpcEndpoint:n("./lib/iframe-phone-rpc-endpoint")}},{"./lib/iframe-endpoint":1,"./lib/iframe-phone-rpc-endpoint":2,"./lib/parent-endpoint":3,"./lib/structured-clone":4}]},{},[5])(5)}),t("import-export/dg-exporter",["require","lab.config","iframe-phone"],function(n){function e(n,e){var t;n&&"codap-present"===n.message&&(t=this.isCodapPresent,this.isCodapPresent=!0,t||"function"!=typeof this.codapDidConnect||this.codapDidConnect()),e()}var t=n("lab.config"),r=n("iframe-phone"),i={gameName:"Next Gen MW",parentTableLabels:{singleCase:"run",pluralCase:"runs",singleCaseWithArticle:"a run",setOfCases:"set",setOfCasesWithArticle:"a set"},childTableLabels:{singleCase:"measurement",pluralCase:"measurements",singleCaseWithArticle:"a measurement",setOfCases:"time series",setOfCasesWithArticle:"a time series"},singleTableLabels:{singleCase:"measurement",pluralCase:"measurements",singleCaseWithArticle:"a measurement",setOfCases:"set",setOfCasesWithArticle:"a set"},perRunColumnLabelCount:0,perRunColumnLabelPositions:{},isCodapPresent:!1,init:function(){this.codapPhone||(this.codapPhone=new r.IframePhoneRpcEndpoint(e.bind(this),"codap-game",window.parent))},canCallDGDirect:function(){if(t.codap||t.dataGamesProxyPrefix)try{if(window.parent.DG.doCommand)return!0}catch(n){}return!1},isEmbeddedInCODAP:function(){return this.isCodapPresent||this.canCallDGDirect()},canExportData:function(){return this.isEmbeddedInCODAP()},doCommand:function(n,e,t){var r={action:n,args:e};this.canCallDGDirect()?setTimeout(function(){var n=window.parent.DG.doCommand(r);t&&setTimeout(function(){t(n)},1)},1):this.isCodapPresent&&this.codapPhone.call(r,t)},exportData:function(n,e,t,r){t=t||[];var i,o,u,a,c,l,s,f=[],p=[],d=[];for(s=0;s<e.length;s++)i=n[s],o=e[s],null==this.perRunColumnLabelPositions[i]&&(this.perRunColumnLabelPositions[i]=this.perRunColumnLabelCount++),u=this.perRunColumnLabelPositions[i],0===s?(f[u]={name:i,formula:"caseIndex",type:"nominal"},p[u]=null):(f[u]={name:i},p[u]=o);for(s=0;s<t.length;s++)d.push({name:t[s]});a=t.length>0,a?(c=this.parentTableLabels.pluralCase,l=this.childTableLabels.pluralCase):c=this.singleTableLabels.pluralCase;var m=[{name:c,attrs:f,childAttrName:"runs",labels:a?this.parentTableLabels:this.singleTableLabels,collapseChildren:!0}];a&&m.push({name:l,attrs:d,labels:this.childTableLabels}),this.doCommand("initGame",{name:this.gameName,collections:m}),this.doCommand("openCase",{collection:c,values:p},function(n){a&&this.doCommand("createCases",{collection:l,values:r,parent:n.caseID}),this.doCommand("closeCase",{collection:c,caseID:n.caseID})}.bind(this))},openTable:function(){this.doCommand("createComponent",{type:"DG.TableView",log:!1})},logAction:function(n){this.doCommand("logAction",{formatStr:n})}};return i}),function(){var n=this,e=n._,t={},r=Array.prototype,i=Object.prototype,o=Function.prototype,u=r.push,a=r.slice,c=r.concat,l=(r.unshift,i.toString),s=i.hasOwnProperty,f=r.forEach,p=r.map,d=r.reduce,m=r.reduceRight,h=r.filter,g=r.every,v=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,x=Object.keys,C=o.bind,O=function(n){return n instanceof O?n:this instanceof O?void(this._wrapped=n):new O(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=O),exports._=O):n._=O,O.VERSION="1.4.2";var j=O.each=O.forEach=function(n,e,r){if(null!=n)if(f&&n.forEach===f)n.forEach(e,r);else if(n.length===+n.length){for(var i=0,o=n.length;o>i;i++)if(e.call(r,n[i],i,n)===t)return}else for(var u in n)if(O.has(n,u)&&e.call(r,n[u],u,n)===t)return};O.map=O.collect=function(n,e,t){var r=[];return null==n?r:p&&n.map===p?n.map(e,t):(j(n,function(n,i,o){r[r.length]=e.call(t,n,i,o)}),r)},O.reduce=O.foldl=O.inject=function(n,e,t,r){var i=arguments.length>2;if(null==n&&(n=[]),d&&n.reduce===d)return r&&(e=O.bind(e,r)),i?n.reduce(e,t):n.reduce(e);if(j(n,function(n,o,u){i?t=e.call(r,t,n,o,u):(t=n,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return t},O.reduceRight=O.foldr=function(n,e,t,r){var i=arguments.length>2;if(null==n&&(n=[]),m&&n.reduceRight===m)return r&&(e=O.bind(e,r)),arguments.length>2?n.reduceRight(e,t):n.reduceRight(e);var o=n.length;if(o!==+o){var u=O.keys(n);o=u.length}if(j(n,function(a,c,l){c=u?u[--o]:--o,i?t=e.call(r,t,n[c],c,l):(t=n[c],i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return t},O.find=O.detect=function(n,e,t){var r;return E(n,function(n,i,o){return e.call(t,n,i,o)?(r=n,!0):void 0}),r},O.filter=O.select=function(n,e,t){var r=[];return null==n?r:h&&n.filter===h?n.filter(e,t):(j(n,function(n,i,o){e.call(t,n,i,o)&&(r[r.length]=n)}),r)},O.reject=function(n,e,t){return O.filter(n,function(n,r,i){return!e.call(t,n,r,i)},t)},O.every=O.all=function(n,e,r){e||(e=O.identity);var i=!0;return null==n?i:g&&n.every===g?n.every(e,r):(j(n,function(n,o,u){return(i=i&&e.call(r,n,o,u))?void 0:t}),!!i)};var E=O.some=O.any=function(n,e,r){e||(e=O.identity);var i=!1;return null==n?i:v&&n.some===v?n.some(e,r):(j(n,function(n,o,u){return i||(i=e.call(r,n,o,u))?t:void 0}),!!i)};O.contains=O.include=function(n,e){return null==n?!1:y&&n.indexOf===y?-1!=n.indexOf(e):E(n,function(n){return n===e})},O.invoke=function(n,e){var t=a.call(arguments,2);return O.map(n,function(n){return(O.isFunction(e)?e:n[e]).apply(n,t)})},O.pluck=function(n,e){return O.map(n,function(n){return n[e]})},O.where=function(n,e){return O.isEmpty(e)?[]:O.filter(n,function(n){for(var t in e)if(e[t]!==n[t])return!1;return!0})},O.max=function(n,e,t){if(!e&&O.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!e&&O.isEmpty(n))return-(1/0);var r={computed:-(1/0)};return j(n,function(n,i,o){var u=e?e.call(t,n,i,o):n;u>=r.computed&&(r={value:n,computed:u})}),r.value},O.min=function(n,e,t){if(!e&&O.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!e&&O.isEmpty(n))return 1/0;var r={computed:1/0};return j(n,function(n,i,o){var u=e?e.call(t,n,i,o):n;u<r.computed&&(r={value:n,computed:u})}),r.value},O.shuffle=function(n){var e,t=0,r=[];return j(n,function(n){e=O.random(t++),r[t-1]=r[e],r[e]=n}),r};var _=function(n){return O.isFunction(n)?n:function(e){return e[n]}};O.sortBy=function(n,e,t){var r=_(e);return O.pluck(O.map(n,function(n,e,i){return{value:n,index:e,criteria:r.call(t,n,e,i)}}).sort(function(n,e){var t=n.criteria,r=e.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(r>t||void 0===r)return-1}return n.index<e.index?-1:1}),"value")};var T=function(n,e,t,r){var i={},o=_(e);return j(n,function(e,u){var a=o.call(t,e,u,n);r(i,a,e)}),i};O.groupBy=function(n,e,t){return T(n,e,t,function(n,e,t){(O.has(n,e)?n[e]:n[e]=[]).push(t)})},O.countBy=function(n,e,t){return T(n,e,t,function(n,e,t){O.has(n,e)||(n[e]=0),n[e]++})},O.sortedIndex=function(n,e,t,r){t=null==t?O.identity:_(t);for(var i=t.call(r,e),o=0,u=n.length;u>o;){var a=o+u>>>1;t.call(r,n[a])<i?o=a+1:u=a}return o},O.toArray=function(n){return n?n.length===+n.length?a.call(n):O.values(n):[]},O.size=function(n){return null==n?0:n.length===+n.length?n.length:O.keys(n).length},O.first=O.head=O.take=function(n,e,t){return null!=n?null==e||t?n[0]:a.call(n,0,e):void 0},O.initial=function(n,e,t){return a.call(n,0,n.length-(null==e||t?1:e))},O.last=function(n,e,t){return null!=n?null==e||t?n[n.length-1]:a.call(n,Math.max(n.length-e,0)):void 0},O.rest=O.tail=O.drop=function(n,e,t){return a.call(n,null==e||t?1:e)},O.compact=function(n){return O.filter(n,function(n){return!!n})};var A=function(n,e,t){return j(n,function(n){O.isArray(n)?e?u.apply(t,n):A(n,e,t):t.push(n)}),t};O.flatten=function(n,e){return A(n,e,[])},O.without=function(n){return O.difference(n,a.call(arguments,1))},O.uniq=O.unique=function(n,e,t,r){O.isFunction(e)&&(r=t,t=e,e=!1);var i=t?O.map(n,t,r):n,o=[],u=[];return j(i,function(t,r){(e?r&&u[u.length-1]===t:O.contains(u,t))||(u.push(t),o.push(n[r]))}),o},O.union=function(){return O.uniq(c.apply(r,arguments))},O.intersection=function(n){var e=a.call(arguments,1);return O.filter(O.uniq(n),function(n){return O.every(e,function(e){return O.indexOf(e,n)>=0})})},O.difference=function(n){var e=c.apply(r,a.call(arguments,1));return O.filter(n,function(n){return!O.contains(e,n)})},O.zip=function(){for(var n=a.call(arguments),e=O.max(O.pluck(n,"length")),t=new Array(e),r=0;e>r;r++)t[r]=O.pluck(n,""+r);return t},O.object=function(n,e){if(null==n)return{};for(var t={},r=0,i=n.length;i>r;r++)e?t[n[r]]=e[r]:t[n[r][0]]=n[r][1];return t},O.indexOf=function(n,e,t){if(null==n)return-1;var r=0,i=n.length;if(t){if("number"!=typeof t)return r=O.sortedIndex(n,e),n[r]===e?r:-1;r=0>t?Math.max(0,i+t):t}if(y&&n.indexOf===y)return n.indexOf(e,t);for(;i>r;r++)if(n[r]===e)return r;return-1},O.lastIndexOf=function(n,e,t){if(null==n)return-1;var r=null!=t;if(b&&n.lastIndexOf===b)return r?n.lastIndexOf(e,t):n.lastIndexOf(e);for(var i=r?t:n.length;i--;)if(n[i]===e)return i;return-1},O.range=function(n,e,t){arguments.length<=1&&(e=n||0,n=0),t=arguments[2]||1;for(var r=Math.max(Math.ceil((e-n)/t),0),i=0,o=new Array(r);r>i;)o[i++]=n,n+=t;return o};var L=function(){};O.bind=function(n,e){var t,r;if(n.bind===C&&C)return C.apply(n,a.call(arguments,1));if(!O.isFunction(n))throw new TypeError;return r=a.call(arguments,2),t=function(){if(!(this instanceof t))return n.apply(e,r.concat(a.call(arguments)));L.prototype=n.prototype;var i=new L,o=n.apply(i,r.concat(a.call(arguments)));return Object(o)===o?o:i}},O.bindAll=function(n){var e=a.call(arguments,1);return 0==e.length&&(e=O.functions(n)),j(e,function(e){n[e]=O.bind(n[e],n)}),n},O.memoize=function(n,e){var t={};return e||(e=O.identity),function(){var r=e.apply(this,arguments);return O.has(t,r)?t[r]:t[r]=n.apply(this,arguments)}},O.delay=function(n,e){var t=a.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},e)},O.defer=function(n){return O.delay.apply(O,[n,1].concat(a.call(arguments,1)))},O.throttle=function(n,e){var t,r,i,o,u=0,a=function(){u=new Date,i=null,o=n.apply(t,r)};return function(){var c=new Date,l=e-(c-u);return t=this,r=arguments,0>=l?(clearTimeout(i),u=c,o=n.apply(t,r)):i||(i=setTimeout(a,l)),o}},O.debounce=function(n,e,t){var r,i;return function(){var o=this,u=arguments,a=function(){r=null,t||(i=n.apply(o,u))},c=t&&!r;return clearTimeout(r),r=setTimeout(a,e),c&&(i=n.apply(o,u)),i}},O.once=function(n){var e,t=!1;return function(){return t?e:(t=!0,e=n.apply(this,arguments),n=null,e)}},O.wrap=function(n,e){return function(){var t=[n];return u.apply(t,arguments),e.apply(this,t)}},O.compose=function(){var n=arguments;return function(){for(var e=arguments,t=n.length-1;t>=0;t--)e=[n[t].apply(this,e)];return e[0]}},O.after=function(n,e){return 0>=n?e():function(){return--n<1?e.apply(this,arguments):void 0}},O.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var e=[];for(var t in n)O.has(n,t)&&(e[e.length]=t);return e},O.values=function(n){var e=[];for(var t in n)O.has(n,t)&&e.push(n[t]);return e},O.pairs=function(n){var e=[];for(var t in n)O.has(n,t)&&e.push([t,n[t]]);return e},O.invert=function(n){var e={};for(var t in n)O.has(n,t)&&(e[n[t]]=t);return e},O.functions=O.methods=function(n){var e=[];for(var t in n)O.isFunction(n[t])&&e.push(t);return e.sort()},O.extend=function(n){return j(a.call(arguments,1),function(e){for(var t in e)n[t]=e[t]}),n},O.pick=function(n){var e={},t=c.apply(r,a.call(arguments,1));return j(t,function(t){t in n&&(e[t]=n[t])}),e},O.omit=function(n){var e={},t=c.apply(r,a.call(arguments,1));for(var i in n)O.contains(t,i)||(e[i]=n[i]);return e},O.defaults=function(n){return j(a.call(arguments,1),function(e){for(var t in e)null==n[t]&&(n[t]=e[t])}),n},O.clone=function(n){return O.isObject(n)?O.isArray(n)?n.slice():O.extend({},n):n},O.tap=function(n,e){return e(n),n};var P=function(n,e,t,r){if(n===e)return 0!==n||1/n==1/e;if(null==n||null==e)return n===e;n instanceof O&&(n=n._wrapped),e instanceof O&&(e=e._wrapped);var i=l.call(n);if(i!=l.call(e))return!1;switch(i){case"[object String]":return n==String(e);case"[object Number]":return n!=+n?e!=+e:0==n?1/n==1/e:n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object RegExp]":return n.source==e.source&&n.global==e.global&&n.multiline==e.multiline&&n.ignoreCase==e.ignoreCase}if("object"!=typeof n||"object"!=typeof e)return!1;for(var o=t.length;o--;)if(t[o]==n)return r[o]==e;t.push(n),r.push(e);var u=0,a=!0;if("[object Array]"==i){if(u=n.length,a=u==e.length)for(;u--&&(a=P(n[u],e[u],t,r)););}else{var c=n.constructor,s=e.constructor;if(c!==s&&!(O.isFunction(c)&&c instanceof c&&O.isFunction(s)&&s instanceof s))return!1;for(var f in n)if(O.has(n,f)&&(u++,!(a=O.has(e,f)&&P(n[f],e[f],t,r))))break;if(a){for(f in e)if(O.has(e,f)&&!u--)break;a=!u}}return t.pop(),r.pop(),a};O.isEqual=function(n,e){return P(n,e,[],[])},O.isEmpty=function(n){if(null==n)return!0;if(O.isArray(n)||O.isString(n))return 0===n.length;for(var e in n)if(O.has(n,e))return!1;return!0},O.isElement=function(n){return!(!n||1!==n.nodeType)},O.isArray=w||function(n){return"[object Array]"==l.call(n)},O.isObject=function(n){return n===Object(n)},j(["Arguments","Function","String","Number","Date","RegExp"],function(n){O["is"+n]=function(e){return l.call(e)=="[object "+n+"]"}}),O.isArguments(arguments)||(O.isArguments=function(n){return!(!n||!O.has(n,"callee"))}),"function"!=typeof/./&&(O.isFunction=function(n){return"function"==typeof n}),O.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},O.isNaN=function(n){return O.isNumber(n)&&n!=+n},O.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},O.isNull=function(n){return null===n},O.isUndefined=function(n){return void 0===n},O.has=function(n,e){return s.call(n,e)},O.noConflict=function(){return n._=e,this},O.identity=function(n){return n},O.times=function(n,e,t){for(var r=0;n>r;r++)e.call(t,r)},O.random=function(n,e){return null==e&&(e=n,n=0),n+(0|Math.random()*(e-n+1))};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};R.unescape=O.invert(R.escape);var S={escape:new RegExp("["+O.keys(R.escape).join("")+"]","g"),unescape:new RegExp("("+O.keys(R.unescape).join("|")+")","g")};O.each(["escape","unescape"],function(n){O[n]=function(e){return null==e?"":(""+e).replace(S[n],function(e){return R[n][e]})}}),O.result=function(n,e){if(null==n)return null;var t=n[e];return O.isFunction(t)?t.call(n):t},O.mixin=function(n){j(O.functions(n),function(e){var t=O[e]=n[e];O.prototype[e]=function(){var n=[this._wrapped];return u.apply(n,arguments),F.call(this,t.apply(O,n))}})};var k=0;O.uniqueId=function(n){var e=k++;return n?n+e:e},O.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;O.template=function(n,e,t){t=O.defaults({},t,O.templateSettings);var r=new RegExp([(t.escape||D).source,(t.interpolate||D).source,(t.evaluate||D).source].join("|")+"|$","g"),i=0,o="__p+='";n.replace(r,function(e,t,r,u,a){o+=n.slice(i,a).replace(N,function(n){return"\\"+I[n]}),o+=t?"'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":u?"';\n"+u+"\n__p+='":"",i=a+e.length}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var u=new Function(t.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(e)return u(e,O);var c=function(n){return u.call(this,n,O)};return c.source="function("+(t.variable||"obj")+"){\n"+o+"}",c},O.chain=function(n){return O(n).chain()};var F=function(n){return this._chain?O(n).chain():n};O.mixin(O),j(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=r[n];O.prototype[n]=function(){var t=this._wrapped;return e.apply(t,arguments),"shift"!=n&&"splice"!=n||0!==t.length||delete t[0],F.call(this,t)}}),j(["concat","join","slice"],function(n){var e=r[n];O.prototype[n]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),O.extend(O.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),t("underscore",function(n){return function(){var e;return e||n._}}(this)),t("import-export/netlogo-importer",["require","underscore"],function(n){function e(n){return n.units?n.label+" ("+n.units+")":n.label}var t=n("underscore"),r=["computationalInputs","computationalOutputs","studentInputs"];return{importRun:function(n,i){return"string"==typeof n&&(n=JSON.parse(n)),{perRunLabels:t.flatten(r.map(function(e){return n.description[e]})).map(e),perRunValues:t.flatten(r.map(function(e){return n.runs[i][e]})),perTickLabels:n.description.timeSeriesData.map(e),perTickValues:n.runs[i].timeSeriesData.map(function(n){return n.map(t.identity)})}},numberOfRuns:function(n){return"string"==typeof n&&(n=JSON.parse(n)),n.runs.length},timeStamps:function(n){return"string"==typeof n&&(n=JSON.parse(n)),t.pluck(n.runs,"timeStamp")},runHavingTimeStamp:function(n,e){"string"==typeof n&&(n=JSON.parse(n));for(var t=0;t<n.runs.length;t++)if(n.runs[t].timeStamp===e)return t;return null}}}),t("import-export/public-api",["require","import-export/dg-exporter","import-export/netlogo-importer"],function(n){"use strict";return window.Lab=window.Lab||{},window.Lab.importExport={version:"0.0.1",dgExporter:n("import-export/dg-exporter"),netlogoImporter:n("import-export/netlogo-importer")}}),e(["import-export/public-api"],void 0,void 0,!0)}();
